<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>XML Script Tags Reference</title>

<link type="text/css" href="../images/page.css" rel="stylesheet"></head>

<body text="#000000" bgcolor="#ffffff">
<h1>HTTP</h1> 
                <table border="1" width="100%" cellspacing="0">
                  <tbody>
                    <tr> 
                      <td width="9%" align="center" bgcolor="#CCCCCC">Tag Name</td>
                      <td width="91%" bgcolor="#F0F0F0"><font color="#993300"><strong>http<a name="httpTag" id="httpTag"></a></strong></font></td>
                    </tr>
                    <tr> 
                      <td align="center" valign="top" bgcolor="#CCCCCC">Attributes</td>
                      <td align="center" bgcolor="#F0F0F0"><table border="1" width="100%" bgcolor="#F0F0F0" cellspacing="0">
                          <tbody>
                            <tr> 
                              <td width="20%" align="center" bgcolor="#CCCCCC">Name</td>
                              <td width="20%" align="center" bgcolor="#CCCCCC">Type</td>
                              <td width="20%" align="center" bgcolor="#CCCCCC">Use</td>
                              <td width="20%" align="center" bgcolor="#CCCCCC">Default</td>
                              <td width="20%" align="center" bgcolor="#CCCCCC">Description</td>
                            </tr>
                            <tr> 
                              <td align="center">host</td>
                              <td align="center">xsd:string</td>
                              <td align="center">required</td>
                              <td align="center"></td>
                              <td align="justify">The addressed host</td>
                            </tr>
                            <tr> 
                              <td align="center">port</td>
                              <td align="center">xsd:positiveInteger</td>
                              <td align="center"></td>
                              <td align="center">80</td>
                              <td align="justify">The addressed port</td>
                            </tr>
                            <tr> 
                              <td align="center">method</td>
                              <td align="center"></td>
                              <td align="center"></td>
                              <td align="center">POST</td>
                              <td align="justify">The HTTP method used in the 
                                exchange (it takes values GET or POST)</td>
                            </tr>
							                            <tr> 
                              <td align="center">fileType</td>
                              <td align="center">&nbsp;</td>
                              <td align="center">&nbsp;</td>
                              <td align="center">text</td>
                              <td align="justify">Defines the type of the file to be downloaded: the possible values are binary, text and xml. </td>
                            </tr>

                          </tbody>
                        </table></td>
                    </tr>
                    <tr> 
                      <td align="center" valign="top" bgcolor="#CCCCCC">Description</td>
                      <td align="justify" bgcolor="#F0F0F0"><p>This tag perform a 
                        single POST or GET HTTP exchange and returns the result 
                        as: </p>
                        <ul>
                          <li>a string if the fileType is set to text (default value)</li>
                        <li>an  XML document (DOM document) if fileType is set to xml </li>
                        <li>a binary stream if the fileType is set to binary.</li>
                        </ul>
                        <p>The connection parameters are given by:</p>
                        <ul>
                          <li> the "host" and                            "port" attributes</li>
                        <li>the &quot;url&quot; tag</li>
                        </ul>                        
                        <p>If &quot;host&quot; and &quot;port&quot; attributes are specified, the url tag shall only contains the query part, otherwise a complete url shall be provided. </p>
                        <p>The HTTP method by the "method" attribute (GET or POST, 
                          POST is default). </p>                        <p>Next, two tags are possible:</p>
                        <ul>
                          <li>&lt;body&gt; used to directly specify the whole body of the HTTP request</li>
                        <li>&lt;parameter&gt; used to specify a set of parameters, providing its name and value. </li>
                        </ul>                        <p>While the body tag can be used only for POST requests, the &quot;parameter&quot; elements 
                            can be used to set parameters both for GET and for POST 
                            requests. In case of GET request, the parameters can be 
                            also specified directly in the URL string returned by 
                        the &quot;url&quot; element.</p>
                        <p>it is also possible to specify a set of headers to put in the HTTP exchange. These can be specified in the Headers section. This section shall contain  one or more &lt;header&gt tags each of which specify an geader entry. Attributes key and value are mandatory in the &lt;header&gt tag and shall contain desired values</p>
                        </td>
                     
                    </tr>
                    <tr> 
                      <td align="center" valign="top" bgcolor="#CCCCCC">Examples</td>
                      <td align="left" bgcolor="#F0F0F0"><pre>&lt;http host=&quot;my.web.address&quot;&gt;<br>	&lt;url&gt;<br>		&lt;string&gt;/My/Service/url&lt;/string&gt;<br>	&lt;/url&gt;<br>	&lt;headers&gt;<br>		&lt;header key=&quot;haderKey&quot; value=&quot;headerValue&quot;/&gt;<br>	&lt;/headers&gt;<br>	&lt;parameter name=&quot;par1&quot;&gt;<br>		&lt;string&gt;val1&lt;/string&gt;<br>	&lt;/parameter&gt;<br>	&lt;parameter name=&quot;par2&quot;&gt;<br>		&lt;string&gt;val2&lt;/string&gt;<br>	&lt;/parameter&gt;<br>&lt;/http&gt;</pre>
                        <font><em>Returns the result of the HTTP POST exchange 
                        for url http://my.web.address/My/Service/url on port 80</em></font> 
                        <pre>&lt;http host=&quot;my.web.address&quot; method=&quot;GET&quot; port=&quot;8080&quot;&gt;<br>	&lt;url&gt;<br>		&lt;string&gt;/My/Service/url&lt;/string&gt;<br>	&lt;/url&gt;<br>	&lt;parameter name=&quot;par1&quot;&gt;<br>		&lt;string&gt;val1&lt;/string&gt;<br>	&lt;/parameter&gt;<br>	&lt;parameter name=&quot;par2&quot;&gt;<br>		&lt;string&gt;val2&lt;/string&gt;<br>	&lt;/parameter&gt;<br>	&lt;parameter name=&quot;par3&quot;&gt;<br>		&lt;string&gt;val3&lt;/string&gt;<br>	&lt;/parameter&gt;<br>&lt;/http&gt;</pre>
                        <p><font><font><em>Returns the result of the HTTP POST exchange 
                          for url http://my.web.address/My/Service/url on port 80</em></font><em>Returns 
                          the result of the HTTP GET exchange for url http://my.web.address/My/Service/url 
                        on port 8080</em></font></p>
                        <pre>&lt;setVariable name=&quot;httpResponse&quot;&gt;
   &lt;http host=&quot;213.173.101.252&quot; port=&quot;8080&quot; fileType=&quot;xml&quot;&gt;
     &lt;url&gt;
       &lt;string&gt;/wps/ProcessingService&lt;/string&gt;
     &lt;/url&gt;
     &lt;body&gt;
        &lt;variable name=&quot;fileContent&quot;/&gt;
     &lt;/body&gt;
   &lt;/http&gt;
&lt;/setVariable&gt;</pre>
                        <p>This tag stores into the httpResponse variable the response obtained by the POST request. The request has been performed using a user defined body (contained into the fileContent variable). </p></td>
                    </tr>
                    <tr>
                      <td align="center" valign="top" bgcolor="#CCCCCC">&nbsp;</td>
                      <td align="left" bgcolor="#F0F0F0">&nbsp;</td>
                    </tr>
                  </tbody>
                </table>



                <h1>toolboxAddress</h1>
                <table border="1" width="100%" cellspacing="0">
                  <tbody>
                    <tr>
                      <td width="9%" align="center" bgcolor="#CCCCCC">Tag Name</td>
                      <td width="91%" bgcolor="#F0F0F0"><font color="#993300"><strong>toolboxAddress<a name="toolboxAddress" id="toolboxAddress"></a></strong></font></td>
                    </tr>
                    <tr>
                      <td align="center" valign="top" bgcolor="#CCCCCC">Description</td>
                      <td align="justify" bgcolor="#F0F0F0"><p>This tag returns the address of the Toolbox Runtime Environment instance. If a proxy is set it is returned instead.</p></td>
                    </tr>
                    <tr>
                      <td align="center" valign="top" bgcolor="#CCCCCC">Examples</td>
                      <td align="left" bgcolor="#F0F0F0"><pre>&lt;toolboxAddress /&gt;<br>
                      <font><em>Returns the public address of the Toolbox instance</em></font></td>
                    </tr>
                    <tr>
                      <td align="center" valign="top" bgcolor="#CCCCCC">&nbsp;</td>
                      <td align="left" bgcolor="#F0F0F0">&nbsp;</td>
                    </tr>
                  </tbody>
                </table>
</body></html>