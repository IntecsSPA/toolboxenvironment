<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head>
  
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>XML Script Tags Reference</title>

  
  
  <link type="text/css" href="../images/page.css" rel="stylesheet">

</head><body style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<h1>XML/XSL</h1>

<table border="1" cellspacing="0" width="100%">

  <tbody>
    <tr>
      <td align="center" bgcolor="#cccccc" width="7%">Tag Name</td>
      <td bgcolor="#f0f0f0" width="93%"><font color="#993300"><strong>dumpXML<a name="dumpXML"></a></strong></font></td>
    </tr>
    <tr>
      <td align="center" bgcolor="#cccccc" valign="top">Attributes</td>
      <td align="justify" bgcolor="#f0f0f0">
      <table bgcolor="#f0f0f0" border="1" cellspacing="0" width="100%">
        <tbody>
          <tr>
            <td align="center" bgcolor="#cccccc" width="20%">Name</td>
            <td align="center" bgcolor="#cccccc" width="20%">Type</td>
            <td align="center" bgcolor="#cccccc" width="20%">Use</td>
            <td align="center" bgcolor="#cccccc" width="20%">Default</td>
            <td align="center" bgcolor="#cccccc" width="20%">Description</td>
          </tr>
          <tr>
            <td align="center">indent</td>
            <td align="center">xsd:boolean</td>
            <td align="center"><br>
            </td>
            <td align="center">false</td>
            <td align="justify">Attribute used to activate the
indentation of the XML. </td>
          </tr>
        </tbody>
      </table>
      </td>
    </tr>
    <tr>
      <td align="center" bgcolor="#cccccc" valign="top">Description</td>
      <td align="justify" bgcolor="#f0f0f0">It serializes as XML, in a
file whose name is given by the first enclosed element, the DOM
document returned by the second enclosed element.</td>
    </tr>
    <tr>
      <td align="center" bgcolor="#cccccc" valign="top">Examples</td>
      <td align="left" bgcolor="#f0f0f0">
      <pre>&lt;dumpXML&gt;<br>	&lt;string&gt;C:\MyXMLDocuments\doc01.xml&lt;/string&gt;<br>	&lt;xmlRequest/&gt;<br>&lt;/dumpXML&gt;</pre>
      <p><font><em>Dumps in the file "C:\MyXMLDocuments\doc01.xml" the
MASS request (see "xmlRequest").</em></font> </p>
      <pre>&lt;dumpXML&gt;<br>	&lt;variable name="newFilePath"/&gt;<br>	&lt;loadXML&gt;<br>		&lt;string&gt;/tmp/file.xml&lt;/string&gt;<br>	&lt;/loadXML&gt;<br>&lt;/dumpXML&gt;</pre>
      <font><em>Copies the XML Document stored in /tmp/file.xml into
the file whose path is contained in the variable "newFilePath".</em></font></td>
    </tr>
  </tbody>
</table>

<p> </p>

<table border="1" cellspacing="0" width="100%">

  <tbody>
    <tr>
      <td align="center" bgcolor="#cccccc" width="8%">Tag Name</td>
      <td bgcolor="#f0f0f0" width="92%"><font color="#993300"><strong>loadXML<a name="loadXML"></a></strong></font></td>
    </tr>
    <tr>
      <td align="center" bgcolor="#cccccc" valign="top">Attributes</td>
      <td align="center" bgcolor="#f0f0f0">
      <table bgcolor="#f0f0f0" border="1" cellspacing="0" width="100%">
        <tbody>
          <tr>
            <td align="center" bgcolor="#cccccc" width="20%">Name</td>
            <td align="center" bgcolor="#cccccc" width="20%">Type</td>
            <td align="center" bgcolor="#cccccc" width="20%">Use</td>
            <td align="center" bgcolor="#cccccc" width="20%">Default</td>
            <td align="center" bgcolor="#cccccc" width="20%">Description</td>
          </tr>
          <tr>
            <td align="center">validatingSchema</td>
            <td align="center">xsd:string</td>
            <td align="center"><br>
            </td>
            <td align="center"><br>
            </td>
            <td align="justify">Absolute path to the Schema to be used
for validation</td>
          </tr>
        </tbody>
      </table>
      </td>
    </tr>
    <tr>
      <td align="center" bgcolor="#cccccc" valign="top">Description</td>
      <td align="justify" bgcolor="#f0f0f0">returns the DOM document
obtained parsing the file whose name is given by the enclosed element.
If the validatingSchema attribute is present the file is validated
against the schema loaded by the file given by this attribute.</td>
    </tr>
    <tr>
      <td align="center" bgcolor="#cccccc" valign="top">Examples</td>
      <td align="left" bgcolor="#f0f0f0">
      <pre>&lt;loadXML&gt;<br>	&lt;stringCat&gt;<br>		&lt;variable name="parentDir"/&gt;<br>		&lt;string&gt;file.xml&lt;/string&gt;<br>	&lt;/stringCat&gt;<br>&lt;/loadXML&gt;</pre>
      <font><em>Loads and returns the XML (DOM) Document (without
validating it) stored in the file "file.xml" under the directory whose
name is stored in the variable "parentDir".</em></font>
      <pre>&lt;loadXML validatingSchema="/tmp/schema.xsd"&gt;<br>	&lt;stringCat&gt;<br>		&lt;variable name="parentDir"/&gt;<br>		&lt;string&gt;file.xml&lt;/string&gt;<br>	&lt;/stringCat&gt;<br>&lt;/loadXML&gt;</pre>
      <font><em>Loads, validates (against the XML schema
"/tmp/schema.xsd") and returns the XML (DOM) Document stored in the
file "file.xml" under the directory whose name is stored in the
variable "parentDir".</em></font></td>
    </tr>
  </tbody>
</table>

<p> </p>

<table border="1" cellspacing="0" width="100%">

  <tbody>
    <tr>
      <td align="center" bgcolor="#cccccc" width="8%">Tag Name</td>
      <td bgcolor="#f0f0f0" width="92%"><font color="#993300"><strong>setXMLValue<a name="setXMLValue"></a></strong></font></td>
    </tr>
    <tr>
      <td align="center" bgcolor="#cccccc" valign="top">Description</td>
      <td align="justify" bgcolor="#f0f0f0">Modifies a value in a DOM
Document (text nodes or attribute). The first child must return the
Document to be modified. The second child nust return an XPath string
to select the node to be modified. The third child return the new value
of the node. It is not possible to set non existing nodes.</td>
    </tr>
    <tr>
      <td align="center" bgcolor="#cccccc" valign="top">Examples</td>
      <td align="left" bgcolor="#f0f0f0"><font><em>Let us suppose we
want to modify the key person name in the following XML Document
(stored in "/myXMLDoc.xml") from Jane to Carol:</em></font>
      <pre><em>&lt;sp:serviceProvider xmlns:sp="http://myCompany.com"&gt;<br>	&lt;sp:company&gt;Company A&lt;/sp:company&gt;<br>	&lt;sp:country&gt;France&lt;/sp:country&gt;<br>	&lt;sp:keyPerson&gt;<br>		&lt;sp:firstName&gt;Jane&lt;/sp:firstName&gt;<br>		&lt;sp:lastName&gt;Smith&lt;/sp:lastName&gt;<br>	&lt;/sp:keyPerson&gt;<br>&lt;/sp:serviceProvider&gt;</em></pre>
      <em><font>Here is the XML script:</font></em>
      <pre>&lt;sequence&gt;<br>   &lt;setVariable name="anXMLDocument"&gt;<br>       &lt;loadXML&gt;<br>		    &lt;string&gt;/myXMLDoc.xml&lt;/string&gt;<br>       &lt;/loadXML&gt;<br>   &lt;/setVariable&gt;<br>   &lt;setXMLValue <em>xmlns:sp="http://myCompany.com"</em>&gt;<br>       &lt;variable name="anXMLDocument"/&gt;<br>       &lt;string&gt;sp:serviceProvider/sp:keyPerson/sp:firstName/text()&lt;/string&gt;<br>		&lt;string&gt;Carol&lt;/string&gt;<br>	&lt;/setXMLValue&gt;<br>&lt;/sequence&gt;<br></pre>
      <p><em><font>Note that the /myXMLDoc.xml has not been changed.
The XML DOM tree stored in the anXmMLDocument variable now contains the
new value. If you want to change the file you have to use the dumpXML
tag: </font></em></p>
      <pre>&lt;dumpXML&gt;<br>    &lt;string&gt;/myXMLDoc.xml&lt;/string&gt;<br>    &lt;variable name="anXMLDocument"/&gt;<br>&lt;/dumpXML&gt;                                                 </pre>
      </td>
    </tr>
  </tbody>
</table>

<p> </p>

<table border="1" cellspacing="0" width="100%">

  <tbody>
    <tr>
      <td align="center" bgcolor="#cccccc" width="8%">Tag Name</td>
      <td bgcolor="#f0f0f0" width="92%"><font color="#993300"><strong>xml</strong><a name="xmlTag"></a></font></td>
    </tr>
    <tr>
      <td align="center" bgcolor="#cccccc" valign="top">Attributes</td>
      <td align="center" bgcolor="#f0f0f0">
      <table bgcolor="#f0f0f0" border="1" cellspacing="0" width="100%">
        <tbody>
          <tr>
            <td align="center" bgcolor="#cccccc" width="20%">Name</td>
            <td align="center" bgcolor="#cccccc" width="20%">Type</td>
            <td align="center" bgcolor="#cccccc" width="20%">Use</td>
            <td align="center" bgcolor="#cccccc" width="20%">Default</td>
            <td align="center" bgcolor="#cccccc" width="20%">Description</td>
          </tr>
          <tr>
            <td align="center">attributePrefix</td>
            <td align="center">xsd:string</td>
            <td align="center">required</td>
            <td align="center"><br>
            </td>
            <td align="justify">The attribute prefix value to be
replaced (in any attribute having this prefix value) with the value of
the variable named like the remaining part of the attribute value</td>
          </tr>
          <tr>
            <td align="center">textTag</td>
            <td align="center">xsd:string</td>
            <td align="center">required</td>
            <td align="center"><br>
            </td>
            <td align="justify">The value used to find in the XML
content all the elements to be replaced by a text node with the value
of the variable named as the "name" attribute of the textTag element</td>
          </tr>
        </tbody>
      </table>
      </td>
    </tr>
    <tr>
      <td align="center" bgcolor="#cccccc" valign="top">Description</td>
      <td align="justify" bgcolor="#f0f0f0">This tag returns an XML
Document. The XML content of this tag is not composed by XML script
tags. The document returned evaluating this tag will have as root the
child element of this element. Moreover two mechanisms are foreseen to
make the content dynamic. An XML document has data in two parts:
attribute values and text nodes. Any of these two kinds of nodes can be
made context dependent in the following way. The "xml" element has two
mandatory attributes: "attributePrefix" and "textTag". The content of
the XML element is processed substituting any attribute value starting
with the value of the "attributePrefix" value, with the value of the
variable named like the remaining part of the attribute value. Moreover
every element having a tag equal to the value of the "textTag"
attribute value, is substituted with a text node with the value of the
variable named as the "name" attribute of the textTag element.</td>
    </tr>
    <tr>
      <td align="center" bgcolor="#cccccc" valign="top">Examples</td>
      <td align="left" bgcolor="#f0f0f0">
      <p>Example 1</p>
      <pre>&lt;xml textTag="evaluate" attributePrefix="x"&gt;<br>	&lt;mass:returnRFQResultInputMsg xmlns:mass="http://www.esa.int/mass"&gt;<br>		&lt;mass:commonInput&gt;<br>				&lt;mass:orderId&gt;&lt;evaluate name="orderId"/&gt;&lt;/mass:orderId&gt;<br>				&lt;/mass:commonInput&gt;<br>				&lt;mass:getRFQOutput&gt;<br>					&lt;mass:statusInfo&gt;<br>						&lt;mass:statusId&gt;300&lt;/mass:statusId&gt;<br>						&lt;mass:statusMsg&gt;&lt;evaluate name="errorMessage"/&gt;&lt;/mass:statusMsg&gt;<br>					&lt;/mass:statusInfo&gt;<br>				&lt;/mass:getRFQOutput&gt;<br>	&lt;/mass:returnRFQResultInputMsg&gt;<br>&lt;/xml&gt;<br></pre>
      <em>Supposing that the variable "errorMessage" contains the
string "Product Not Found"</em> and that the "orderId" is "AAAAA",<em>
the tag "xml" returns the following XML Document:</em>
      <pre>	&lt;mass:returnRFQResultInputMsg xmlns:mass="http://www.esa.int/mass"&gt;<br>		&lt;mass:commonInput&gt;<br>				&lt;mass:orderId&gt;AAAAA&lt;/mass:orderId&gt;<br>				&lt;/mass:commonInput&gt;<br>				&lt;mass:getRFQOutput&gt;<br>					&lt;mass:statusInfo&gt;<br>						&lt;mass:statusId&gt;300&lt;/mass:statusId&gt;<br>						&lt;mass:statusMsg&gt;Product Not Found&lt;/mass:statusMsg&gt;<br>					&lt;/mass:statusInfo&gt;<br>				&lt;/mass:getRFQOutput&gt;<br>	&lt;/mass:returnRFQResultInputMsg&gt;</pre>
      <p>Example 2</p>
      <pre>&lt;xml textTag="evaluate" attributePrefix="x"&gt;<br>	&lt;mass:returnOrderResultInputMsg xmlns:mass="http://www.esa.int/mass"&gt;<br>		&lt;mass:commonInput&gt;<br>				&lt;mass:orderId&gt;&lt;evaluate name="orderId"/&gt;&lt;/mass:orderId&gt;<br>				&lt;/mass:commonInput&gt;<br>				&lt;mass:getOrderOutput&gt;<br>					&lt;mass:statusInfo&gt;<br>						&lt;mass:statusId&gt;0&lt;/mass:statusId&gt;<br>						&lt;mass:statusMsg&gt;&lt;evaluate name="resultMsg"/&gt;&lt;/mass:statusMsg&gt;<br>					&lt;/mass:statusInfo&gt;<br>					&lt;mass:user name="xuserName" password="xpassword"/&gt;<br>				&lt;/mass:getOrderOutput&gt;<br>	&lt;/mass:returnOrderResultInputMsg&gt;<br>&lt;/xml&gt;</pre>
      <p><em>Supposing that the variable "resultMsg" contains the
string "Successful"</em>, that the "orderId" is "AAAAA",<em> that the
variables "userName" and "password" contains the strings "Rossi" and
"gfed09" respectively, then the tag "xml" returns the following XML
Document:</em></p>
      <pre>	&lt;mass:returnRFQResultInputMsg xmlns:mass="http://www.esa.int/mass"&gt;<br>		&lt;mass:commonInput&gt;<br>				&lt;mass:orderId&gt;AAAAA&lt;/mass:orderId&gt;<br>				&lt;/mass:commonInput&gt;<br>				&lt;mass:getRFQOutput&gt;<br>					&lt;mass:statusInfo&gt;<br>						&lt;mass:statusId&gt;0&lt;/mass:statusId&gt;<br>						&lt;mass:statusMsg&gt;Successful&lt;/mass:statusMsg&gt;<br>					&lt;/mass:statusInfo&gt;<br>			    	&lt;mass:user name=Rossi" password="<em>gfed09</em>"/&gt;<br>			    &lt;/mass:getRFQOutput&gt;<br>	&lt;/mass:returnRFQResultInputMsg&gt;</pre>
      <p><strong>WARN: when an XML inside the "xml" tag is evaluated
all the text amomg the elements is kept, thus:</strong> </p>
      <pre>&lt;mass:statusMsg&gt;&lt;evaluate name="resultMsg"/&gt;&lt;/mass:statusMsg&gt;</pre>
      <p>returns </p>
      <pre>&lt;mass:statusMsg&gt;Successful&lt;/mass:statusMsg&gt;</pre>
      <p><strong>and</strong></p>
      <pre>&lt;mass:statusMsg&gt;<br>   &lt;evaluate name="resultMsg"/&gt;<br>&lt;/mass:statusMsg&gt;</pre>
      <p>returns</p>
      <pre>&lt;mass:statusMsg&gt;<br>   Successful<br>&lt;/mass:statusMsg&gt;</pre>
      </td>
    </tr>
  </tbody>
</table>

<p> </p>

<table border="1" cellspacing="0" width="100%">

  <tbody>
    <tr>
      <td align="center" bgcolor="#cccccc" width="9%">Tag Name</td>
      <td bgcolor="#f0f0f0" width="91%"><font color="#993300"><strong>xmlDocument</strong><a name="xmlDocument"></a></font></td>
    </tr>
    <tr>
      <td align="center" bgcolor="#cccccc" valign="top">Description</td>
      <td align="justify" bgcolor="#f0f0f0">The &lt;xmlDocument&gt; tag
allows building an XML document with dynamic content.
      <p>The root element of the XML document is specified using a tag
named &lt;element&gt; in the following way:</p>
      <pre>&lt;xmlDocument&gt;<br>	&lt;element&gt;<br>		&lt;tag&gt;[ANY_TAG_RETURNING_A_STRING]&lt;/tag&gt;<br>		&lt;attributes&gt;<br>			&lt;namespace prefix="[A_STRING]" uri="[A_STRING]"/&gt;<br>			&lt;namespace prefix="[A_STRING]" uri="[A_STRING]"/&gt;<br>					.<br>					.			<br>			&lt;attribute name="[A_STRING]"&gt;[ANY_TAG_RETURNING_A_STRING]&lt;/attribute&gt;<br>			&lt;attribute name="[A_STRING]"&gt;[ANY_TAG_RETURNING_A_STRING]&lt;/attribute&gt;<br>					.<br>					.<br>		&lt;/attributes&gt;<br>		&lt;content&gt;....&lt;/content&gt;<br>	&lt;/element&gt;<br>&lt;/xmlDocument&gt;<br></pre>
      <p>where:</p>
      <ul>
        <li>the tag &lt;tag&gt; contains a tag returning a string
representing the (qualified) root element name;</li>
        <li>the tag &lt;namespace&gt; (child of &lt;attributes&gt;)
returns a declaration of namespace to put in the root element;</li>
        <li>the tag &lt;attribute&gt; (child of &lt;attributes&gt;)
returns an attribute to put in the root element: the attribute value is
returned by the &lt;attribute&gt; enclosed element (that must return a
string);</li>
        <li>the tag &lt;content&gt; returns the content of the root
element (see below);</li>
      </ul>
      <p>Example:</p>
      <pre>&lt;xmlDocument&gt;<br>	&lt;element&gt;<br>		&lt;tag&gt;&lt;string&gt;mD:myRoot&lt;/string&gt;&lt;/tag&gt;<br>		&lt;attributes&gt;<br>			&lt;namespace prefix="mD" uri="http://my.Domain.com"/&gt;<br>			&lt;attribute name="anAttribute"&gt;&lt;string&gt;myAttributeValue&lt;/string&gt;&lt;/attribute&gt;<br>		&lt;/attributes&gt;<br>		&lt;content&gt;....&lt;/content&gt;<br>	&lt;/element&gt;<br>&lt;/xmlDocument&gt;<br></pre>
      <p>returns:</p>
      <pre>&lt;mD:myRoot xmlns:mD="http://my.Domain.com" anAttribute="myAttributeValue"&gt;<br>...<br>&lt;/mD:myRoot&gt;</pre>
      <p>The tag &lt;content&gt; can contain one or more tags contained
in the following list:</p>
      <ol>
        <li>&lt;text&gt;;</li>
        <li>&lt;element&gt;;</li>
        <li>&lt;if&gt;;</li>
        <li>&lt;repeat&gt;;</li>
        <li>any XLM excerpt (belonging to a namespace different from
the TOOLBOX XML script one, i.e.
"http://pisa.intecs.it/mass/toolbox/xmlScript")</li>
      </ol>
      <p>In details:<br>
1.) &lt;text&gt; This tag is used to insert some text:</p>
      <p>Example</p>
      <pre>&lt;xmlDocument&gt;<br>	&lt;element&gt;<br>		&lt;tag&gt;&lt;string&gt;mD:myRoot&lt;/string&gt;&lt;/tag&gt;<br>		&lt;attributes&gt;<br>			&lt;namespace prefix="mD" uri="http://my.Domain.com"/&gt;<br>			&lt;attribute name="anAttribute"&gt;&lt;string&gt;myAttributeValue&lt;/string&gt;&lt;/attribute&gt;<br>		&lt;/attributes&gt;<br>		&lt;content&gt;&lt;text&gt;someText&lt;/text&gt;&lt;/content&gt;<br>	&lt;/element&gt;<br>&lt;/xmlDocument&gt;</pre>
      <p>returns:</p>
      <pre>&lt;mD:myRoot xmlns:mD="http://my.Domain.com" anAttribute="myAttributeValue"&gt;someText&lt;/mD:myRoot&gt;</pre>
      <p>2.) &lt;element&gt; This tag is used to insert an element
defined as the root above.</p>
      <p>Example</p>
      <pre>&lt;xmlDocument&gt;<br>	&lt;element&gt;<br>		&lt;tag&gt;&lt;string&gt;mD:myRoot&lt;/string&gt;&lt;/tag&gt;<br>		&lt;attributes&gt;<br>			&lt;namespace prefix="mD" uri="http://my.Domain.com"/&gt;<br>			&lt;attribute name="anAttribute"&gt;&lt;string&gt;myAttributeValue&lt;/string&gt;&lt;/attribute&gt;<br>		&lt;/attributes&gt;<br>		&lt;content&gt;&lt;element&gt;<br>		&lt;tag&gt;&lt;string&gt;mD:myRootChild&lt;/string&gt;&lt;/tag&gt;<br>		&lt;attributes&gt;<br>			&lt;attribute name="anOtherAttribute"&gt;&lt;string&gt;anotherAttributeValue&lt;/string&gt;&lt;/attribute&gt;<br>		&lt;/attributes&gt;<br>		&lt;content&gt;....&lt;/content&gt;<br>		&lt;/element&gt;&lt;/content&gt;<br>	&lt;/element&gt;<br>&lt;/xmlDocument&gt; </pre>
      <p>returns:</p>
      <pre>&lt;mD:myRoot xmlns:mD="http://my.Domain.com" anAttribute="myAttributeValue"&gt;<br>   &lt;mD:myRootChild anOtherAttribute="anotherAttributeValue"&gt;....&lt;/mD:myRootChild&gt;<br>&lt;/mD:myRoot&gt;</pre>
      <p>3.) &lt;if&gt;</p>
      <p>The tag &lt;if&gt; is used to insert an XML excerpt depending
on the value of a boolean condition. The syntax of the tag if is:</p>
      <pre>&lt;if&gt;<br>	[ANY_TAG_RETURNING_A_BOOLEAN_VALUE]<br>	&lt;then&gt;[ONE_OR_MORE_TAGS_INCLUDED_IN_THE_LIST_ABOVE]&lt;/then&gt;<br>	&lt;else&gt;[ONE_OR_MORE_TAGS_INCLUDED_IN_THE_LIST_ABOVE]&lt;/else&gt;<br>&lt;/if&gt;</pre>
      <p>Example</p>
      <pre>&lt;xmlDocument&gt;<br>	&lt;element&gt;<br>		&lt;tag&gt;&lt;string&gt;mD:myRoot&lt;/string&gt;&lt;/tag&gt;<br>		&lt;attributes&gt;<br>			&lt;namespace prefix="mD" uri="http://my.Domain.com"/&gt;<br>			&lt;attribute name="anAttribute"&gt;&lt;string&gt;myAttributeValue&lt;/string&gt;&lt;/attribute&gt;<br>		&lt;/attributes&gt;<br>		&lt;content&gt;&lt;if&gt;<br>			&lt;variable name="aBooleanVariable"/&gt;<br>			&lt;then&gt;<br>			&lt;element&gt;<br>				&lt;tag&gt;&lt;string&gt;mD:myRootChild&lt;/string&gt;&lt;/tag&gt;<br>				&lt;attributes/&gt;<br>				&lt;content&gt;....&lt;/content&gt;<br>			&lt;/element&gt;&lt;/then&gt;<br>			&lt;else&gt;&lt;text&gt;someText&lt;/text&gt;&lt;/else&gt;<br>		&lt;/if&gt;&lt;/content&gt;<br>	&lt;/element&gt;<br>&lt;/xmlDocument&gt; </pre>
      <p> returns:</p>
      <pre>&lt;mD:myRoot xmlns:mD="http://my.Domain.com" anAttribute="myAttributeValue"&gt;<br>	&lt;mD:myRootChild&gt;....&lt;/mD:myRootChild&gt;<br>&lt;/mD:myRoot&gt;</pre>
      <p>if the evaluation of the variable "aBooleanVariable" returns
"true", otherwise it returns:</p>
      <pre>&lt;mD:myRoot xmlns:mD="http://my.Domain.com" anAttribute="myAttributeValue"&gt;<br>	someText<br>&lt;/mD:myRoot&gt;</pre>
      <p>4.) &lt;repeat&gt;. This tag is used to insert an XML excerpt
as many times as the evaluation of a certain condition returns "true".
The syntax of the element &lt;repeat&gt; is:</p>
      <pre>&lt;repeat&gt;<br>	[ANY_TAG_RETURNING_A_BOOLEAN_VALUE]<br>	&lt;content&gt;...&lt;/content&gt;<br>&lt;/repeat&gt;</pre>
      <p>Example</p>
      <pre>&lt;xmlDocument&gt;<br>	&lt;element&gt;<br>		&lt;tag&gt;&lt;string&gt;mD:myRoot&lt;/string&gt;&lt;/tag&gt;<br>		&lt;attributes&gt;<br>			&lt;namespace prefix="mD" uri="http://my.Domain.com"/&gt;<br>			&lt;attribute name="anAttribute"&gt;&lt;string&gt;myAttributeValue&lt;/string&gt;&lt;/attribute&gt;<br>		&lt;/attributes&gt;<br>		&lt;content&gt;&lt;repeat&gt;<br>				&lt;lte&gt;<br>					&lt;inc&gt;<br>						&lt;variable name="index"/&gt;<br>					&lt;/inc&gt;<br>					&lt;literal value="10"/&gt;<br>				&lt;/lte&gt;<br>				&lt;content&gt;<br>					Index is now equal to &lt;text&gt;<br>						&lt;variable name="index"/&gt;<br>						&lt;/text&gt;<br>					&lt;/content&gt;<br>			&lt;/repeat&gt;&lt;/content&gt;<br>	&lt;/element&gt;<br>&lt;/xmlDocument&gt;</pre>
      <p>returns (if the variable index has been set to "8"):</p>
      <pre>&lt;mD:myRoot xmlns:mD="http://my.Domain.com" anAttribute="myAttributeValue"&gt;<br>	&lt;mD:myRootChild&gt;<br>		Index is now equal to 8<br>		Index is now equal to 9<br>		Index is now equal to 10		<br>	&lt;/mD:myRootChild&gt;<br>&lt;/mD:myRoot&gt;</pre>
      <p>5.) any XML excerpt (belonging to a namespace different from
the TOOLBOX XML script one, i.e.
"http://pisa.intecs.it/mass/toolbox/xmlScript").</p>
      <p>Example</p>
      <pre>&lt;xmlDocument&gt;<br>	&lt;element&gt;<br>		&lt;tag&gt;&lt;string&gt;mD:myRoot&lt;/string&gt;&lt;/tag&gt;<br>		&lt;attributes&gt;<br>			&lt;namespace prefix="mD" uri="http://my.Domain.com"/&gt;<br>			&lt;attribute name="anAttribute"&gt;&lt;string&gt;myAttributeValue&lt;/string&gt;&lt;/attribute&gt;<br>		&lt;/attributes&gt;<br>		&lt;content&gt;&lt;aD:rootChild xmlns:aD="http://another.Domain.com"&gt;<br>			&lt;aD:anElement&gt;someText&lt;aD:anElement&gt;<br>		&lt;aD:rootChild xmlns:aD="http://another.Domain.com"&gt;&lt;/content&gt;<br>	&lt;/element&gt;<br>&lt;/xmlDocument&gt;</pre>
      <p>returns:</p>
      <pre>&lt;mD:myRoot xmlns:mD="http://my.Domain.com" anAttribute="myAttributeValue"&gt;<br>	&lt;aD:rootChild&gt;<br>		&lt;aD:anElement&gt;someText&lt;aD:anElement&gt;<br>	&lt;/aD:rootChild&gt;<br>&lt;/mD:myRoot&gt;</pre>
      <p>For complete understanding of this tag please refer the XML
script schema.</p>
      <p><strong>WARN: all text filled in this element will be kept,
including newLines's.</strong></p>
      </td>
    </tr>
    <tr>
      <td align="center" bgcolor="#cccccc" valign="top">Examples</td>
      <td align="left" bgcolor="#f0f0f0">
      <pre>&lt;xmlDocument&gt;<br>	&lt;if&gt;<br>		&lt;literal type="boolean" value="true"/&gt;<br>		&lt;element&gt;<br>			&lt;tag&gt;<br>				&lt;string&gt;ns:documentRoot&lt;/string&gt;<br>			&lt;/tag&gt;<br>			&lt;attributes&gt;<br>				&lt;namespace prefix="ns" uri="namespace2"/&gt;<br>				&lt;namespace uri="namespace1"/&gt;<br>				&lt;attribute name="attribute1"&gt;<br>					&lt;string&gt;value1&lt;/string&gt;<br>				&lt;/attribute&gt;<br>				&lt;if&gt;<br>					&lt;literal type="boolean" value="true"/&gt;<br>					&lt;attribute name="attribute2"&gt;<br>						&lt;string&gt;value2&lt;/string&gt;<br>					&lt;/attribute&gt;<br>					&lt;attribute name="attribute3"&gt;<br>						&lt;string&gt;value3&lt;/string&gt;<br>					&lt;/attribute&gt;<br>				&lt;/if&gt;<br>				&lt;if&gt;<br>					&lt;literal type="boolean" value="true"/&gt;<br>					&lt;if&gt;<br>						&lt;literal type="boolean" value="false"/&gt;<br>						&lt;attribute name="attribute4"&gt;<br>							&lt;string&gt;value4&lt;/string&gt;<br>						&lt;/attribute&gt;<br>					&lt;/if&gt;<br>				&lt;/if&gt;<br>			&lt;/attributes&gt;<br>			&lt;content&gt;someText1<br>			&lt;text&gt;<br>				&lt;string&gt;someText2&lt;/string&gt;<br>			&lt;/text&gt;<br>			someText3<br>			&lt;a:b xmlns:a="qwerty"/&gt;<br>			someText4<br>			&lt;element&gt;<br>					&lt;tag&gt;<br>						&lt;string&gt;anEmpyTag&lt;/string&gt;<br>					&lt;/tag&gt;<br>					&lt;attributes/&gt;<br>					&lt;content/&gt;<br>			&lt;/element&gt;<br>			someText5<br>			&lt;if&gt;<br>				&lt;literal type="boolean" value="true"/&gt;<br>				&lt;then&gt;<br>					&lt;a:then xmlns:a="qwerty"/&gt;<br>				&lt;/then&gt;<br>				&lt;else&gt;<br>					&lt;a:else xmlns:a="qwerty"/&gt;<br>				&lt;/else&gt;<br>			&lt;/if&gt;<br>			someText3<br>			&lt;setVariable name="index"&gt;<br>					&lt;literal value="0"/&gt;<br>			&lt;/setVariable&gt;<br>				&lt;repeat&gt;<br>					&lt;lte&gt;<br>						&lt;inc&gt;<br>							&lt;variable name="index"/&gt;<br>						&lt;/inc&gt;<br>						&lt;literal value="10"/&gt;<br>					&lt;/lte&gt;<br>					&lt;content&gt;<br>					Index is now equal to &lt;text&gt;<br>						&lt;variable name="index"/&gt;<br>						&lt;/text&gt;<br>					&lt;/content&gt;<br>				&lt;/repeat&gt;<br>				someText7<br>			&lt;/content&gt;<br>		&lt;/element&gt;<br>		&lt;ns:documentRoot attribute="value" xmlns:ns="namespace2"/&gt;<br>	&lt;/if&gt;<br>&lt;/xmlDocument&gt;</pre>
      <font><em>returns</em></font>
      <pre><em>&lt;ns:documentRoot attribute1="value1" attribute2="value2" xmlns="namespace1" xmlns:ns="namespace2"&gt;<br>someText1<br>someText2<br>someText3<br>&lt;a:b xmlns:a="qwerty"/&gt;<br>someText4<br>&lt;anEmpyTag/&gt;<br>someText5</em></pre>
      <p><em>&lt;a:then xmlns:a="qwerty"/&gt;</em></p>
      <p><em>someText6</em></p>
      <p><em><br>
Index is now equal to 1<br>
Index is now equal to 2<br>
Index is now equal to 3<br>
Index is now equal to 4<br>
Index is now equal to 5<br>
Index is now equal to 6<br>
Index is now equal to 7<br>
Index is now equal to 8<br>
Index is now equal to 9<br>
Index is now equal to 10<br>
someText7<br>
&lt;/ns:documentRoot&gt;</em><br>
      </p>
      </td>
    </tr>
  </tbody>
</table>

<p> </p>

<table border="1" cellspacing="0" width="100%">

  <tbody>
    <tr>
      <td align="center" bgcolor="#cccccc" width="8%">Tag Name</td>
      <td bgcolor="#f0f0f0" width="92%"><font color="#993300"><strong>xPath<a name="xPath"></a></strong></font></td>
    </tr>
	<tr>
<td align="center" bgcolor="#cccccc" valign="top">Attributes</td>
<td align="justify" bgcolor="#f0f0f0">
<table bgcolor="#f0f0f0" border="1" cellspacing="0" width="100%">
<tbody>
<tr>
<td align="center" bgcolor="#cccccc" width="20%">Name</td>
<td align="center" bgcolor="#cccccc" width="20%">Type</td>
<td align="center" bgcolor="#cccccc" width="20%">Use</td>
<td align="center" bgcolor="#cccccc" width="20%">Default</td>
<td align="center" bgcolor="#cccccc" width="20%">Description</td>
</tr>
<tr>
<td align="center">outputType</td>
<td align="center">xsd:string</td>
<td align="center"><br>
</td>
<td align="center">text</td>
<td align="justify">This attributes declares the output type of the xPath operation. Valid values are: text,array and xml<br>
 </td>
</tr>
</tbody>
</table>
</td>
</tr>

    <tr>
      <td align="center" bgcolor="#cccccc" valign="top">Description</td>
      <td align="justify" bgcolor="#f0f0f0">It
returns the string
obtained by evaluating the XPath expression given by the second
enclosed element, on the DOM Document given by the first enclosed
element. Depending on the outputType attribute value the type of the
result is selected. The xPath query should be accordingly generated,
otherwise an error is raised. In case the outputType attribute value is
text, the xpath string should select a text from the xml. A string is
returned. In case of array value, an array of strings is returned by
the tag. The last attribute value, xml, shall be used to return an xml
document containing part of the original xml. The xpath string used in
this case shall select a node.<br>
</td>
    </tr>
    <tr>
      <td align="center" bgcolor="#cccccc" valign="top">Examples</td>
      <td align="left" bgcolor="#f0f0f0">
      <pre>&lt;xPath xmlns:mass="http://www.esa.int/mass"<br> xmlns:aoi="http://www.esa.int/xml/schemas/mass/aoifeatures" xmlns:gml="http://www.opengis.net/gml"&gt;<br>	&lt;xmlRequest/&gt;<br>	&lt;string&gt;/mass:sendRFQInputMsg/mass:sendRFQInput/aoi:areaOfInterest/<br>	aoi:aoiFeatures/gml:featureMember/aoi:aoiFeature/aoi:featureLabel&lt;/string&gt;<br>&lt;/xPath&gt;</pre>
      <font><em>Let's suppose that the XML Docoment returned by the <xmlrequest>
tag contains the following XML:</xmlrequest></em></font>
      <pre><em>&lt;sendRFQInputMsg xmlns="http://www.esa.int/mass"<br> xmlns:aoi="http://www.esa.int/xml/schemas/mass/aoifeatures"<br> xmlns:gml="http://www.opengis.net/gml"&gt;<br>	&lt;commonInput&gt;<br>		&lt;orderId&gt;AAASS3&lt;/orderId&gt;<br>	&lt;/commonInput&gt;<br>	&lt;sendRFQInput&gt;<br>		&lt;aoi:areaOfInterest&gt;<br>			&lt;aoi:aoiFeatures&gt;<br>				&lt;gml:boundedBy&gt;<br>					&lt;gml:null&gt;unavailable&lt;/gml:null&gt;<br>				&lt;/gml:boundedBy&gt;<br>				&lt;gml:featureMember&gt;<br>					&lt;aoi:aoiFeature&gt;<br>						&lt;aoi:featureLabel&gt;Europe&lt;/aoi:featureLabel&gt;<br>					&lt;/aoi:aoiFeature&gt;<br>				&lt;/gml:featureMember&gt;<br>			&lt;/aoi:aoiFeatures&gt;<br>		&lt;/aoi:areaOfInterest&gt;<br>		&lt;userId&gt;mass&lt;/userId&gt;<br>		&lt;date&gt;2001-07-01&lt;/date&gt;<br>		&lt;format&gt;HDF&lt;/format&gt;<br>	&lt;/sendRFQInput&gt;<br>&lt;/sendRFQInputMsg&gt;</em></pre>
      <em><font>the <xpath> returns "xPath" the string "Europe".</xpath></font></em><font>&nbsp;
      </font></td>
    </tr>
  </tbody>
</table>

<p> </p>

<table border="1" cellspacing="0" width="100%">

  <tbody>
    <tr>
      <td align="center" bgcolor="#cccccc" width="9%">Tag Name</td>
      <td bgcolor="#f0f0f0" width="91%"><font color="#993300"><strong>base64</strong><a name="base64"></a></font></td>
    </tr>
    <tr>
      <td align="center" bgcolor="#cccccc" valign="top">Attributes</td>
      <td align="center" bgcolor="#f0f0f0">
      <table bgcolor="#f0f0f0" border="1" cellspacing="0" width="100%">
        <tbody>
          <tr>
            <td align="center" bgcolor="#cccccc" width="20%">Name</td>
            <td align="center" bgcolor="#cccccc" width="20%">Type</td>
            <td align="center" bgcolor="#cccccc" width="20%">Use</td>
            <td align="center" bgcolor="#cccccc" width="20%">Default</td>
            <td align="center" bgcolor="#cccccc" width="20%">Description</td>
          </tr>
          <tr>
            <td align="center">direction</td>
            <td align="center">&nbsp;</td>
            <td align="center"><br>
            </td>
            <td align="center">encode</td>
            <td align="justify">defines the encoding/decoding
direction. </td>
          </tr>
        </tbody>
      </table>
      </td>
    </tr>
    <tr>
      <td align="center" bgcolor="#cccccc" valign="top">Description</td>
      <td align="justify" bgcolor="#f0f0f0">
      <p>This tag returns a Base 64 decoded/encoded string/binary. </p>
      <p>The direction is defined by the direction attribute:</p>
      <ul>
        <li>decode: base 64 --&gt; binary</li>
        <li>encode: binary --&gt; base64</li>
      </ul>
      <p><b>Base 64</b> or <b>quadrosexagesimal</b> is a positional
notation using a base of 64. It is the largest power-of-two base that
can be represented using only printable ASCII characters. This has led
to its use as a transfer encoding for e-mail among other things. All
well-known variants that are known by the name <i>Base64</i> use the
characters A–Z, a–z, and 0–9 in that order for the first 62 digits but
the symbols chosen for the last two digits vary considerably between
different systems.</p>
      </td>
    </tr>
    <tr>
      <td align="center" bgcolor="#cccccc" valign="top">Examples</td>
      <td align="left" bgcolor="#f0f0f0">
      <pre>&lt;base64 direction="decode"&gt;<br>  &lt;xPath xmlns:csw="http://www.opengis.net/cat/csw" xmlns:ogc="http://www.opengis.net/ogc"&gt;<br>   &lt;variable name="searchReply"/&gt;<br>   &lt;stringCat&gt;<br>     &lt;string&gt;/InventoryReply/InventoryResult/ProductList[0]/Thumbnail&lt;/string&gt;<br>   &lt;/stringCat&gt;<br>  &lt;/xPath&gt;<br>&lt;/base64&gt;<br><font><em><br>extracts the base64 string from the searchReply XML document, decode it and returns a binary stream.</em></font></pre>
      </td>
    </tr>
  </tbody>
</table>

<p>
</p>

<table border="1" cellspacing="0" width="100%">

  <tbody>
    <tr>
      <td align="center" bgcolor="#cccccc" width="9%">Tag Name</td>
      <td bgcolor="#f0f0f0" width="91%"><font color="#993300"><strong>xslt</strong><a name="xslt"></a></font></td>
    </tr>
    <tr>
      <td align="center" bgcolor="#cccccc" valign="top">Attributes</td>
      <td align="center" bgcolor="#f0f0f0">
      <table bgcolor="#f0f0f0" border="1" cellspacing="0" width="100%">
        <tbody>
          <tr>
            <td align="center" bgcolor="#cccccc" width="20%">Name</td>
            <td align="center" bgcolor="#cccccc" width="20%">Type</td>
            <td align="center" bgcolor="#cccccc" width="20%">Use</td>
            <td align="center" bgcolor="#cccccc" width="20%">Default</td>
            <td align="center" bgcolor="#cccccc" width="20%">Description</td>
          </tr>
          <tr>
            <td align="center">xmlOutput</td>
            <td align="center">xsd:boolean</td>
            <td align="center"><br>
            </td>
            <td align="center">true</td>
            <td align="justify">Flag indicating whether the result of
the transformation wiil be XML (default) or an other format
("xmlOutput" set to "false")</td>
          </tr>
        </tbody>
      </table>
      </td>
    </tr>
    <tr>
      <td align="center" bgcolor="#cccccc" valign="top">Description</td>
      <td align="justify" bgcolor="#f0f0f0">This tag returns the result
of an XSLT. The XSL document may contain parameters to be set. The DOM
document to be transformed is returned by the first enclosed element,
the name of the XSL file to be applied is given by the second enclosed
element. The second element may be followed by a list of "parameter"
elements each of them having a "name" attibute (representing the
parameter name) and containing an element returning the parameter
value. The value of the boolean attribute "xmlOutput" of the "xslt"
element tells the engine if the output will be XML (default) or not. In
the first case a DOM Document is returned, in latter case a string.</td>
    </tr>
    <tr>
      <td align="center" bgcolor="#cccccc" valign="top">Examples</td>
      <td align="left" bgcolor="#f0f0f0">
      <pre>&lt;xslt&gt;<br>	&lt;xmlRequest/&gt;<br>	&lt;string&gt;C:\MyXSLTFIles\MASS_to_Service.xsl&lt;/string&gt;<br>&lt;/xslt&gt;</pre>
      <font><em>returns the DOM Document result of the transformation
of the XML request obtained applying the file
C:\MyXSLTFIles\MASS_to_Service.xsl</em></font>
      <pre>&lt;xslt xmlOutput="false"&gt;<br>	&lt;xmlRequest/&gt;<br>	&lt;string&gt;C:\MyXSLTFIles\MASS_to_Service.xsl&lt;/string&gt;<br>&lt;/xslt&gt;</pre>
      <font><em>returns the string result of the transformation of the
XML request obtained applying the file
C:\MyXSLTFIles\MASS_to_Service.xsl</em></font></td>
    </tr>
  </tbody>
</table>

<p>
</p>

<table border="1" cellspacing="0" width="100%">

  <tbody>
    <tr>
      <td align="center" bgcolor="#cccccc" width="9%">Tag Name</td>
      <td bgcolor="#f0f0f0" width="91%"><font color="#993300"><strong>validateDocument</strong><a name="validateDocument" id="validateDocument"></a></font></td>
    </tr>
    <tr>
      <td align="center" bgcolor="#cccccc" valign="top">Description</td>
      <td align="justify" bgcolor="#f0f0f0">This tag returns true or
false depending on the result of the validation process. The xml to be
validated is passed as first parameter, while the path of the schema
file is the result of the second one</td>
    </tr>
    <tr>
      <td align="center" bgcolor="#cccccc" valign="top">Examples</td>
      <td align="left" bgcolor="#f0f0f0">
      <pre>&lt;validateDocument&gt;<br>	&lt;xmlRequest/&gt;<br>	&lt;string&gt;C:\schemas\documentSchema.xsd&lt;/string&gt;<br>&lt;/xslt&gt;</pre>
      <font><em>returns true or false depending on the validation
process. The schema is loaded from the file:
C:\schemas\documentSchema.xsd</em></font></td>
    </tr>
  </tbody>
</table>

</body></html>