<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Documento senza titolo</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link type="text/css" href="images/page.css" rel="stylesheet">
</head>

<body>
 <h1>Add a WPS processing</h1>
 <p align="justify">A new WPS Processing can be added to a service in order to grow its computing power.</p>
 <p align="justify">Select a WPS service and click on the Operations management menu link. A page reporting the operations available for the selected service should be displayed. </p>
 <p><img src="images/WPSOP1.png" width="853" height="180"></p>
 <p align="left">The list should at least contain the following operations</p>
 <ul>
   <li>GetCapabilities: 


 The GetCapabilities operation provides access to general information about a live WPS implementation, and lists the operations and access methods supported by that implementation.</li>
   <li>DescribeProcess: 


 The DescribeProcess operation allows WPS clients to request a full description of one or more processes that can be executed by the service. This description includes the input and output parameters and formats and can be used to automatically build a user interface to capture the parameter values to be used to execute a process.</li>
   <li>Execute: 


 The Execute operation allows WPS clients to run a specified process implemented by a server, using the input parameter values provided and returning the output values produced. Inputs can be included directly in the Execute request, or reference web accessible resources.</li>
 </ul>
 <p align="left">When a new service is created the Execute and DescribeProcess operations are deployed but cannot be invoked (indeed no processing are reported in the GetCapabilities thus it is not possible to create a valid input message for the DescribeProcess and the Execute).</p>

 <p align="left">There are two ways to create a new processing WPS:<br>
  <ul>
    <li>Create Processing using a wizard for the Describe Process creation (click on the &quot;Add WPS processing Wizard&quot; button).<br>
	See the "<a href="createOperationWPSusingWizard.html">Create Describe Process using Wizard</a>" section.
    </li>
    <li>Create Processing using a edit area for the Describe Process creation (click on the &quot;Add WPS processing&quot; button).<br>
	See the "<a href="createOperationWPSusingEditArea.html">Create Describe Process using Edit Area</a>" section.
    </li>
  </ul>

 <!--<p align="left">To add new processing click on the &quot;Add WPS processing&quot; button The browser should display the following dialog:<br>
   <br>
 <img src="images/WPSOP2.png" width="936" height="585"> </p>
 <p align="justify">In this step a Describe Process document has to be be provided. The DescribeProcess operation allows WPS clients to request a full description of one or more processes that can be executed by the service. This description includes the input and output parameters and formats and can be used to automatically build a user interface to capture the parameter values to be used to execute a process. In tho Toolbox the describe document is used to build the WPS infrastructure and set the variables that will be used in the processing. Read <a href="buildDescribeProcess.html">here</a> for additional information on how to build a Describe Process document.</p>
 <p align="justify">The document can be copied directly in the text area or can be loaded from a file. </p>-->
 <p align="justify">When done, click on the &quot;Parse WPS Processing Describe Information&rdquo; button (Describe Process created using the Edit Area) or click on the &quot;Create&rdquo; button (Describe Process created using the Wizard). <br>
The browser should display the following pop-up interface:</p>
 <p align="center"><img src="images/WPSOP3.png" width="936" height="588"></p>
 <p align="justify">This step allows you to select the processing engine to be used to process the requests. Currently only three processing methods are available: Grass Engine, Shell script or Toolbox Script.<br>
   The main difference between the three is the language/tool used to implement the processing logic. In the first case a Grass script shall be provided, in the second a bach shell script while in the third a Toolbox script is used for the processing and have to be provided. These scripts are then put in execution every time a SOAP request arrives to the service. The execution of these scripts will provide the processing logic. Toolbox will take care of setting and downloading input data so that the user shall only take care of writing the logic itself. All data to work upon shall be considered already downloaded when the user script is put in execution. For all implementation methods it is possible to write the script directly in the text area or to upload one from disk. </p>
 <p align="justify"> Select one of the methods and provide the script logic by loading a file from disk (if available) or by loading the Template provided by the framework and filling the template with the service logic. Then click on the Create WPS process button. A new operationis now created.</p>
 <p align="justify">For each new WPS processing TOOLBOX creates a new synchronous&nbsp; operation called ExecuteProcess_&lt;ProcessingName&gt;,&nbsp; if the WPS processing is <a href="WPSAsynch.html">asynchronous</a> (this information is set in the Describe Process document) TOOLBOX creates a&nbsp; asynchronous Operation called ExecuteProcess_&lt;ProcessingName&gt;_ASYNC. </p>
 <p align="justify">&lt;ProcessingName&gt; is the value of the ProcessingName tag included in the Describe process document.</p>
 <p align="justify">In the image below we have created a new asynchronous processing named TestOperation</p>
 <p><img src="images/WPSOP4.png" width="936" height="220"></p>
 <p align="justify">The Resource Manager allows updating both the describe information as well as the processing logic. </p>
 <p align="justify">The Remove button allow removing a WPS operation. </p>
 <p align="justify"><img src="images/note.gif" width="17" height="17"> <strong>The Toolbox implements both the WPS 


 05-007r7 1.0.0 SOAP binding as well as the Corrigendum for OpenGIS Implementation Standard Web Processing Service (WPS) 1.0.0 (0.0.8)	 08-091r6. Thus it can be invoked as a simple SOAP wrapping of the Execute POST message (as described in 08-091r6) or as encoded message ExecuteProcess_&lt;ProcessingName&gt; (as desscribed in WPS 


 05-007r7 1.0.0).</strong> </p>
 <p align="justify"><img src="images/note.gif" width="17" height="17"> <strong>For <a href="WPSAsynch.html">asynchronous requests</a> the Toolbox implements the WPS specification but extend it with the support to the WS-Addressing. In general:</strong></p>
 <ul>
   <li><strong>ExecuteProcess_&lt;ProcessingName&gt; operations can be invoked asynchronously (if supported) via the standard WPS asynchronous mechanism (polling to a specific HTTP URL) </strong></li>
   <li><strong>ExecuteProcess_&lt;ProcessingName&gt;_ASYN supports the WS-Addressing specification</strong></li>
</ul>
 <p><strong>Refer to the following <a href="WPSAsynch.html">page</a> for more information regarding the asynchronous support </strong></p>
</body>
</html>
