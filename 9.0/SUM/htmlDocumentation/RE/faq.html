<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html>

<head>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>TOOLBOX FAQ</title>

<link type="text/css" href="images/page.css" rel="stylesheet">

</head>

<body text="#000000" bgcolor="#ffffff"> 

<h1>TOOLBOX FAQ</h1> 

<div class="content"> 

  <h3 align="justify">&gt;General</h3> 

  <p align="justify"><strong>What is the TOOLBOX?</strong></p> 

  <p align="justify">The TOOLBOX is a tool allowing the creation of message based web Services. It is based on an XML scripting language allowing to specify the operation that have to be performed when a SOAP message is received. It is based on free and Open Source software. It has been developed in the MASS project.</p> 

  <p align="justify"><strong>Is the TOOLBOX specific for SSE?</strong></p> 

  <p align="justify">The TOOLBOX has been developed in the SSE project but it is a generic TOOL allowing the publishing of any kind of Web Service based on the message routing mechanism. It provides some features specific for the SSE framework that facilitate the development of a SSE compliant Web Service (see the <a href="icd.html">SSE ICD</a>).</p> 

  <p align="justify"><strong>May I publish RPC-like Web Services with the TOOLBOX?</strong></p> 

  <p align="justify">No, the TOOLBOX does not allow publishing Web Service based on RPC. To deploy this kind of service you have to use a different TOOL (e.g. Axis)</p> 

  <p align="justify"><strong>Do I need a WSDL to deploy a Web Service with the TOOLBOX?</strong></p> 

  <p align="justify">No. The TOOLBOX allows you to create empty Services (see <a href="serviceCreating.html">the Creating a Service</a> section). When a service has been created it allows adding operation. When the first operation is deployed the TOOLBOX creates automatically the WSDL file needed to access the published service. This file is created according to a template included in the <a href="icd.html">SSE ICD</a>.</p> 

  <p><strong>I have created a new service. I'm looking for the WSDL file but I can not find it. Why?</strong></p> 

  <p>The TOOLBOX support the automatic WSDL generation. When a new service is installed and the first operation has been added, the TOOLBOX publishes the WSDL according to this naming convention</p> 

  <p><font size="-1"><em>http://&lt;TOMCAT_HOST&gt;[:&lt;TOMCAT_PORT&gt;]/TOOLBOX/WSDL/&lt;SERVICE_NAME&gt;/&lt;SERVICE_NAME&gt;.wsdl</em></font> </p> 

  <p align="justify">The TOOLBOX creates the WSDL file only if the information needed has been provided. During the Service Creation or Reconfiguration procedure the Schema which describe the SOAP messages content have to be provided. Moreover the &quot;Target Namespace&quot; in the &quot;WSDL Info&quot; section has to be correctly filled. If one of these field are not filled correctly the WSDL file is not created.</p> 

  <p align="justify">Moreover, when a new service is created no operations are available. Thus the TOOLBOX does not create the WSDL file. The WSDL file is created as soon as the first operation is added.</p> 

  <p><strong>I'm using the new TOOLBOX 4.1.1. In the TOOLBOX configuration page I filled the &quot;LOG directory&quot; with &quot;/home/toolbox/LOG&quot;. Moreover I checked the &quot;Log Input Messages&quot; and &quot;Log Output Messages&quot;. Then I created the &quot;TEST&quot; service. Using the web interface I can display correctly the log information. Unfortunately I can not find the TEST.log file in the &quot;/home/toolbox/LOG&quot;. Moreover I can not find the input/output messages stored by the TOOLBOX.</strong></p> 

  <p>The new TOOLBOX 4.1.1 creates a new log directory for each service under the directory specified in the &quot;LOG directory&quot; input parameter. Thus the files you need (the TEST.log file and the input/output messages) are stored in the &quot;/home/toolbox/LOG/TEST/&quot; directory.</p> 

  <p align="justify"><strong>How can I migrate from the 3.x to the 4.x version?</strong></p> 

  <p align="justify">The previous versions of the TOOLBOX were based on a Service Definition file. This file was used to describe the whole Service (the synchronous or asynchronous concept was at Service level). Moreover all the operations deployed in the Service had to be created during the Service installation and were included in the Service Definition.</p> 

  <p align="justify"> The new version of the TOOLBOX does not use this file anymore. Now a <a href="serviceCreating.html">service can be created</a> from scratch using the Web Application. When a service is created from scratch no operations are available. New operations can be added using the <a href="operationManagement.html">&quot;Operation Manager&quot;</a> button on the toolbar that appear when a service is selected.</p> 

  <p align="justify">Thus the old Definition files cannot be used in the new TOOLBOX 4.x. In order reuse the old scripts included in the Service Definition file follow these steps:</p> 

  <ul> 

    <li> 

      <div align="justify" class="content"><a href="serviceCreating.html">Create a new service</a></div> 

    </li> 

    <li> 

      <div align="justify" class="content">Extract the scripts you want to reuse from the send/check/get sections of the old Service Definition file and save them on temporary files (e.g. sendScript.xml, checkScript.xml ,getScript.xml).</div> 

    </li> 

    <li> 

      <div align="justify" class="content">Use the <a href="validatingAScript.html">&quot;<em>Script Validate</em>&quot;</a> button to check if the scripts are valid.</div> 

    </li> 

    <li> 

      <div align="justify" class="content"><a href="operationManagement.html">Add a new operation</a> to the new Service using the file just created. The Script will be uploaded in the Service configuration files. Thus if you need to change something in the script, you have to delete and deploy again the operation just created. Future versions of the TOOLBOx will provide an update procedure.</div> 

    </li> 

    <li> 

      <div align="justify" class="content">Test the service using the <a href="sendingSoapMessage.html">&quot;<em>Send Soap&quot;</em></a> button</div> 

    </li> 

  </ul> 

  <p>&nbsp;</p> 

  <h3 align="justify">&gt;Troubleshooting</h3> 

  <p align="justify"><strong>I have installed the Toolbox 5.0. I deployed a Service and a synchronous operation. I have accessed the &quot;Monitoring Center&quot; page and I have selected the &quot;Display Synchronous Instances&quot; functionality. The &quot;Display Synchronous Instances&quot; shows that one requests remains in &quot;executing&quot; status. I restarted the Toolbox but the instance is still in &quot;executing&quot; status and I can not delete it. How can I remove this request from the status?</strong></p>

  <p align="justify">Probably an unexpected error occurred during the execution of the instance. You can remove the instance from the list by manually deleting the following folder:</p>

  <p align="justify">&lt;LOG_ROOT&gt;/&lt;SERVICE_NAME&gt;/synchronousInstances/&lt;INSTANCE_KEY&gt;</p>

  <p align="justify">where &lt;INSTANCE_KEY&gt; is the the value of the &quot;instance&quot; column in the list.</p>

  <p align="justify"><img src="images/warning.gif" width="28" height="21"> Make sure that the instance is not really executing. If you remove the folder for an instance which is executing you can have an unexpected behavior.</p>

  <p align="justify"><strong>I'm using the &lt;xslt&gt; tag. When I try to transform an xml document the TOOLBOX creates an empty document. If iI do the same transformation using a different tool (e.g. XMLSpy) it works. Why?</strong></p>

  <p align="justify">The TOOLBOX 4.0 does not handle the XML default values defined in the schema of the XML Script language. This means that when an XML or an XSL file is loaded the default values are not set.</p> 

  <p align="justify"><em>Workaround</em>: you have to explicitly set the default value in the XSL file to make the script work (e.g. xmlOutput = true). This bug has be fixed in the TOOLBOX 4.1.</p> 

  <p align="justify"><strong>The SSE &lt;orderId/&gt; tag returns &quot;null&quot; but the request message contains it and is valid according to the SSE schema. Why?</strong></p> 

  <p align="justify">The TOOLBOX 4.x does not automatically extracts the SSE orderId from the <em>synchronous</em> RFQ and Order requests. </p> 

  <p align="justify"><em>Workaround:</em> use the &lt;xPath&gt; tag applied to the &lt;xmlRequest/&gt; tag, as shown in the example below:</p> 

  <p align="justify">&lt;setVariable name=&quot;orderId&quot;&gt; <br> 

       &lt;xPath xmlns=&quot;http://www.esa.int/mass&quot;&gt; <br> 

          &lt;xmlRequest/&gt;<br> 

&lt;string&gt;processRFQInputMsg/commonInput/orderId&lt;/string&gt; <br> 

       &lt;/xPath&gt;<br> 

&lt;/setVariable&gt; 

  <p align="justify"><strong>The database updates are not committed unless I explicitly call &lt;dbCommit&gt;, whereas by default &quot;autoCommit&quot; is supposed to be true in &lt;dbConnect&gt;. Why?</strong></p> 

  <p align="justify">The TOOLBOX 4.0 does not handle attribute default values correctly (for any tag).</p> 

  <p align="justify"><em>Workaround:</em> Set the &quot;autoCommit&quot; attribute to &quot;true&quot; explicitly in the &lt;dbConnect&gt; tag.</p> 

  <p align="justify"><strong>I'm using the &lt;ftpExists&gt; tag to look for a specific file on an FTP server. The tags returns always true even if the file is not present. Why?</strong></p> 

  <p align="justify">The TOOLBOX 4.0 and 4.1 do not implement correctly the &lt;ftpExists&gt; tag. This bug has been fixed in the release 4.1.1.</p> 

  <p align="justify"><em>Workaround</em>: No workaround. Please update the TOOLBOX to the new version.</p> 

  <p align="justify"><strong>I try to send a message using the &quot;Send SOAP Message&quot; page. I select the SSL option and I enter a valid SSL certificate location. When I try to send the message I get the error reported below.</strong></p> 

  <p align="justify"><em>java.lang.IllegalArgumentException: The input node can not be null for a DOMSource for newTemplates!<br> 

    at org.apache.xalan.transformer.TransformerIdentityImpl.transform(TransformerIdentityImpl.java:346)<br> 

    at it.intecs.pisa.soap.toolbox.SOAPUtils.getMessage(SOAPUtils.java:114)<br> 

    at it.intecs.pisa.soap.toolbox.SOAPUtils.getMessage(SOAPUtils.java:126)<br> 

    at it.intecs.pisa.soap.toolbox.Toolbox$ToolboxConfigurator.secureSoapCall(Toolbox.java:902)<br> 

    at org.apache.jsp.sendSOAPMessageSubmit$jsp._jspService(sendSOAPMessageSubmit$jsp.java:203)<br> 

    at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:107)<br> 

    at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)<br> 

    .<br> 

    .<br> 

    </em>. </p> 

  <p align="justify">This is a known bug. This bug has been fixed in the release 4.1.1.</p> 

  <p align="justify"><em>Workaround</em>: No workaround. Please update the TOOLBOX to a new version (&gt; 4.1.1).</p> 

  <p align="justify"><strong>I successfully installed my service on the TOOLBOX on a Windows machine. My service exposes an asynchronous operation. When it receives a request it returns an error message similar to the following one:</strong></p> 

  <p align="justify"><em>Impossible to create new request handler:<br> 

    </em><em> C:\tomcat-jwsdp-1-4\webapps\TOOLBOX\WEB-INF\services\TestService\requests\Order.kant.esrin.esa.int.bpel:__localhost_bb_TestService_sendOrder~1.0_1375-BpInv0-BpTry1.5-1.xml<br> 

    </em><em> (The system cannot find the file specified)</em></p> 

  <p align="justify">This is a known bug on Windows platforms. This bug has been fixed in the release 4.2.</p> 

  <p align="justify"><em>Workaround</em>: No workaround unless the TOOLBOX is re-installed on a Linux machine. Please update the TOOLBOX to the new version 4.2.</p> 

  <p align="justify"><strong>I correctly installed my service but some times the TOOLBOX can't display my service log.</strong></p> 

  <p align="justify">Workaround: Use the text view.</p> 

  <p align="justify"><strong>I'm using a TOOLBOX whose version is comprised from V2.0 and V4.3 and in one of my scritps I use a &lt;while&gt; tag. The scritp works only once.</strong></p> 

  <p align="justify">This is a bug, which has been fixed in TOOLBOX V4.4. Workaround: use the &lt;for&gt; tag or upgrade your TOOLBOX installation to V4.4. </p> 

  <h3 align="justify">&gt;XMLScripting</h3> 

  <p align="justify"><strong>When I want to use the methodinvocation tag to access JAVA classes, where do I place the classes itself? Do I place them in the toolbox directory or just add them to the classpath?</strong></p> 

  <p align="justify">See the <a href="XMLScript/operatorsCommands.html">&lt;methodInvocation&gt;</a> tag reference page</p> 

  <p align="justify"><strong>I have the path of a file (eg /data1/data/standard/VGT1/19990501/NPP_VGT1_19990501_N-AMERICA_HDF.zip) but for ftp I need only the name of the file (in this case NPP_VGT1_19990501_N-AMERICA_HDF)even without the zip. How do I do that with the extract functionality? </strong></p> 

  <p align="justify">Anytime the text to extract is contained in a XML file, a quicker way to manipulate is to use the functionality of xPath (e.g. the substring-before and substring-after function could be used to extract the string. Please refer to the <a href="http://www.w3.org/TR/xpath" target="_blank">XPath</a> documentation for the complete list of functions that can be used inside the xPath tag). See the <a href="XMLScript/xmlXsl.html">&lt;xPath&gt;</a> tag reference page for more information.</p> 

  <p align="justify"></p> 

  <p align="justify"></p> 

</div> 

</body>

</html>

