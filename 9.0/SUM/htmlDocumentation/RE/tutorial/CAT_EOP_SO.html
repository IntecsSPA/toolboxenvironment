<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Service Management</title>


<link type="text/css" href="../images/page.css" rel="stylesheet">
</head>
<body bgcolor="#ffffff" text="#000000">
<h1> Creating a stand alone EOP catalogue </h1>
<div class="content"> 
  <div class="justify">
    <p> This tutorial explains how to set up an Earth Observation Catalogue service compliant with the OGC-06-131r6 interface (EOP EbRIM catalogue) .</p>
    <p><br>
      Prerequisite:</p>
    <ul>
      <li>Toolbox 9.0 correctly installed on a Linux server (the tests and the tutorial have been done using an ubuntu 10 Server)</li>
      <li>Postgress installed on the Linux server</li>
    <li>The postgres (password:demo) user has been created on the postgres server. </li>
      <li>Postgis installed on the Linux server </li>
    </ul>
    <div class="content">
      <p>The following files are used in the tutorial</p>
      <ul>
        <li><a href="CAT_EOP_SO/GetCapabilites_Request.xml">GetCapabilites_Request.xml</a>: test file for the GetCapabilities operation </li>
      <li><a href="CAT_EOP_SO/GetRecords.xml">GetRecords.xml</a>: test file for the GetRecords operation </li>
        <li><a href="CAT_EOP_SO/GetRecordById.xml">GetRecordById.xml</a>: test file for the GetRecordById operation </li>
      <li><a href="CAT_EOP_SO/metadata.zip">metadata.zip</a>: metadata to be harvested in the catalogue to perform the tests. </li>
      </ul>
      <p>Log into the Toolbox then select the <strong>Tools--&gt;Create EOP database instance</strong></p>
    </div>
    <p align="center"><img src="CAT_EOP_SO/DB1.png" width="481" height="187"> </p>
  </div>
</div>
<div class="content">
  <p>Click on Create</p>
  <p align="center"><img src="CAT_EOP_SO/DB2.png" width="448" height="26"></p>
  <p>The database has now been created. Select  <strong>Service management--&gt;Create a new service</strong></p>
  <p>Select the create Catalogue service section </p>
  <p align="center"><img src="CAT_EOP_SO/CAT1.png" width="650" height="367"></p>
  <p>Enter the service name and the Abstract and description. Then select the Catalogue Information tab </p>
  <p align="center"><img src="CAT_EOP_SO/CAT2.png" width="650" height="367"></p>
  <p>Select the OGC-06-131r6 - OGCÂ® Catalogue Services Standard 2.0 Extension Package for ebRIM Application Profile: Earth Observation Products as interface type and StandAlone as Interface mode. Then click on CreateCatalogueService </p>
  <p align="center"><img src="CAT_EOP_SO/CAT3.png" width="926" height="383"></p>
  <p>The service is created. Click on OK and go to the end of the page</p>
  <p align="center"><img src="CAT_EOP_SO/CAT4.png" width="925" height="158"> </p>
  <p>In the Configure service variable section set the parameters as specified in the image above. Then click on Configure.</p>
  <p align="center"><img src="CAT_EOP_SO/CAT5.png" width="438" height="152"></p>
  <p>Select the operations as specified above then click on Create.</p>
  <p>The catalogue service is now deployed and ready to be populated. Make sure that the service is selected and select <strong>Tools--&gt;Harvest file from filesystem </strong></p>
  <p align="center"><img src="CAT_EOP_SO/CAT6.png" width="926" height="389"> </p>
  <p>Browse the file system and select the<a href="CAT_EOP_SO/metadata.zip"> metadata.zip</a> file then click on Harvest. The zip file contains 14 metadata. The file is harvested in the catalogue and a pop up window reports the results of the harvesting process. If the number of metadata harvested is less than the number of metadata to harvest check the log file.</p>
  <p align="center"><img src="CAT_EOP_SO/CAT7.png" width="926" height="389"></p>
  <p>Now the catalogue is ready and the metadata can be discovered. To test the catalogue created go on the Test Center section </p>
<p align="center"><img src="CAT_EOP_SO/CAT8.png" width="936" height="332"></p>
  <p>Select the Toolbox Application Client </p>
  <p align="center"><img src="CAT_EOP_SO/CAT9.png" width="495" height="448"></p>
  <p align="left">In the Toolbox Information section enter the URL of the Toolbox hosting the service you want to test (it should already be set with the correct URL) then click on Retrieve Services. The client connects to the Toolbox and populate the Select Service drop down list. Select the service you want to test. The client connects to the Toolbox and retrieve the list of the available operations.</p>
  <p align="left"><strong>Testing the GetCapabilities operation </strong></p>
  <p>Select the GetCapabilities operation and click on Create Request. </p>
  <p align="center"><img src="CAT_EOP_SO/CAT10.png" width="926" height="457"></p>
  <p>In the GetCapabilities Input tab load the<a href="CAT_EOP_SO/GetCapabilites_Request.xml"> GetCapabilites_Request.xml</a> file, select the SOAP Message option then click on Send Request</p>
  <p align="center"><img src="CAT_EOP_SO/CAT11.png" width="926" height="457"></p>
  <p>The client sends the request to the service and displays the response in the GetCapabilities Output tab </p>
  <h4>Testing the GetRecords operation </h4>
  <p>Go back to the Toolbox Information section and select the GetRecords option in the Select Operation drop down list then click on Create Request</p>
  <p>In the GetRecords Input tab load the <a href="CAT_EOP_SO/GetRecords.xml">GetRecords.xml</a> file, select the SOAP message option then click on Send Request</p>
  <p align="center"><img src="CAT_EOP_SO/CAT12.png" width="926" height="457"></p>
  <p>The client sends the request to the service and displays the response in the GetRecords Output tab </p>
  <p align="center"><img src="CAT_EOP_SO/CAT13.png" width="926" height="425"></p>
  <p>The number of record matched by the query should be 12, the number of records retuyrned should be 10. </p>
  <h4>Testing the GetRecordById operation </h4>
  <p>Go back to the Toolbox Information section and select the GetRecordById option in the Select Operation drop down list then click on Create Request</p>
  <p>In the GetRecordById Input tab load the <a href="CAT_EOP_SO/GetRecordById.xml">GetRecordById.xml</a> file, select the SOAP message option then click on Send Request</p>
  <p align="center"><img src="CAT_EOP_SO/CAT14.png" width="926" height="457"></p>
  <p>The client sends the request to the service and displays the response in the GetRecordById Output tab </p>
  <p align="center"><img src="CAT_EOP_SO/CAT15.png" width="926" height="425"></p>
  <p align="left">&nbsp;</p>
  <p align="left">&nbsp;</p>
</div>
</body></html>